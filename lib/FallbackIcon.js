var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _propTypes=_interopRequireDefault(require("prop-types"));var _react=_interopRequireWildcard(require("react"));var _reactPrimitives=require("react-primitives");var _jsxFileName="/Users/mikedemarais/git/balance/react-coin-icon/src/FallbackIcon.js";var sx=_reactPrimitives.StyleSheet.create({container:{alignItems:"center",height:"100%",justifyContent:"center",overflow:"hidden",width:"100%"},text:{color:"#ffffff",fontWeight:'600',textTransform:"uppercase"}});function buildFallbackFontSize(symbol,width){if(!symbol)return 0;else if(width<30||symbol.length>4)return 8;else if(symbol.length===4)return 10;else if(symbol.length===1||symbol.length===2)return 13;return 11;}function formatSymbol(symbol,width){if(!symbol)return"";return symbol.replace(/[^a-zA-Z0-9]/g,"").substring(0,width<30?1:5);}var FallbackIcon=function FallbackIcon(_ref){var bgColor=_ref.bgColor,_ref$symbol=_ref.symbol,symbol=_ref$symbol===void 0?"":_ref$symbol,textStyles=_ref.textStyles,width=_ref.width,props=(0,_objectWithoutProperties2["default"])(_ref,["bgColor","symbol","textStyles","width"]);var formattedSymbol=(0,_react.useMemo)(function(){return formatSymbol(symbol,width);},[symbol,width]);var fontSize=(0,_react.useMemo)(function(){return{fontSize:buildFallbackFontSize(formattedSymbol,width)};},[formattedSymbol,width]);return _react["default"].createElement(_reactPrimitives.View,(0,_extends2["default"])({},props,{backgroundColor:bgColor,style:sx.container,__source:{fileName:_jsxFileName,lineNumber:45,columnNumber:5}}),_react["default"].createElement(_reactPrimitives.Text,{style:[sx.text,fontSize,textStyles],__source:{fileName:_jsxFileName,lineNumber:46,columnNumber:7}},formattedSymbol));};FallbackIcon.propTypes={bgColor:_propTypes["default"].string,symbol:_propTypes["default"].string,textStyles:_propTypes["default"].oneOfType([_propTypes["default"].arrayOf(_propTypes["default"].string),_propTypes["default"].string]),width:_propTypes["default"].number};FallbackIcon.defaultProps={bgColor:"#3A3D51"};var arePropsEqual=function arePropsEqual(prev,next){return prev.bgColor===next.bgColor&&prev.symbol===next.symbol;};var _default=_react["default"].memo(FallbackIcon,arePropsEqual);exports["default"]=_default;